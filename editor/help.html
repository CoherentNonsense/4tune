<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>4Tune Help</title>
  <link rel="stylesheet" href="simple.css">
</head>
<body>
  <h1>4Tune Help</h1>
  <h2>Controls</h2>
  <img src="controls.png" alt="Picture of the controls">
  <p><b>Save Beatmap:</b> Will save a beatmap.txt on your computer.</p>
  <p><b>Choose File:</b> Will load a .wav file onto your computer (Some files don't seem to work. I'm figuring it out).</p>
  <p><b>Check BPM:</b> Click the button to the rhythm and the bpm will be displayed. It will reset after 3 seconds.</p>
  <p><b>Help:</b> Brings you here :).</p>
  <p><b>Play/Pause:</b> Plays/Pauses the song if loaded. You can also push the space bar to play/pause</p>
  <p><b>Slider 1:</b> Zooms in the waveform. You can also scroll when hovering over the waveform.</p>
  <p><b>Slider 2:</b> Playback speed.</p>
  <p><b>Song Name:</b> The name that is displayed while playing.</p>
  <p><b>BPM:</b> The BPM of the song. (You should set this before placing notes)</p>
  <p><b>Offset:</b> Some songs will have some delay so you can offset it by n seconds. (In the example above, there is some dead space and there should be 1 second of offset.</p>
  <p><b>Waveform:</b> Shows the audio track. You can click and drag or just click to move around, or drag the scrollbar at the bottom. (If you move around with the scrollbar and try to click and drag, it will jump you back to where the cursor was before. You can click to jump to the new area).</p>
  <p><b>Time/Beat Time:</b> How far you are in the song in seconds, and beats. Beats are based on the BPM</p>

  <h2>Notes</h2>
  <p>Push 'q' to place a note at the current position. Once placed, you can drag the note in the waveform or change it's data in the note panel below. (The unnamed buttons are the note's position.</p>
  
  <h2>Sharing the Beatmap</h2>
  <p>When 4Tune loads a song, it looks in .pdx/songs/[your song name], where [your song name] is a folder with two items. audio.pda and beatmap.txt (those names are required).</p>
  <p>You must convert a .wav to a .pda. I don't think there is a tool for it yet, but you can use <a href="https://sdk.play.date/1.13.1/Inside%20Playdate.html#_set_playdate_sdk_path_environment_variable">pdc</a> (playdate compiler). There are some <a href="https://sdk.play.date/1.12.3/Inside%20Playdate.html#M-sound-prep">optimisations</a> you should follow when creating the .wav. Please note that the .wavs don't seem to work in the editor after these optimisations so I would keep the original mp3/wav while editing.</p>
  <p>The beatmap.txt is what is generated by the editor</p>

  <hr>

  <h2>Creating .pda</h2>
  <p>I mention using pdc to create the .pda. After setting up your environment variables you can do the following:</p>
  <p>Open an empty folder with VSCode.</p>
  <p>Place your optimisated .wav in the folder.</p>
  <p>Create a file called main.lua. (Don't have to put anything in it)</p>
  <p>Open the integrated terminal <code>ctrl + `</code></p>
  <p>Type <code>pdc .</code></p>
  <p>A ..pdc directory should appear with your .pda inside. You can delete everything else.</p>
  <p>Note: This is a hacky way to do it and there might be a better tool to do this. (pls lmk)</p>
</body>
</html>